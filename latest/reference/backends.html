
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Backends &#8212; NetworkX 3.5rc0.dev0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=f84a2825" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="../_static/documentation_options.js?v=49ff9557"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/copybutton.js?v=e333d19b"></script>
    <script data-domain="networkx.org" defer="defer" src="https://views.scientific-python.org/js/script.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'reference/backends';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.0';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://networkx.org/documentation/latest/_static/version_switcher.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'latest';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = true;
        </script>
    <link rel="canonical" href="https://networkx.org/documentation/stable/reference/backends.html" />
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within NetworkX 3.5rc0.dev0 documentation"
          href="../_static/opensearch.xml"/>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="_dispatchable" href="generated/networkx.utils.backends._dispatchable.html" />
    <link rel="prev" title="MappedQueue.update" href="generated/generated/networkx.utils.mapped_queue.MappedQueue.update.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="3.5rc0.dev0" />
    <meta name="docbuild:last-update" content="Oct 22, 2024"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/networkx_banner.svg" class="logo__image only-light" alt="NetworkX 3.5rc0.dev0 documentation - Home"/>
    <img src="../_static/networkx_banner.svg" class="logo__image only-dark pst-js-only" alt="NetworkX 3.5rc0.dev0 documentation - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../install.html">
    Install
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../tutorial.html">
    Tutorial
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../backends.html">
    Backends
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    Reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../auto_examples/index.html">
    Gallery
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../developer/index.html">
    Developer
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../release/index.html">
    Releases
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-external" href="https://networkx.org/nx-guides/">
    Guides
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://networkx.org" title="Home Page" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fas fa-home fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Home Page</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/networkx/networkx" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-github-square fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
        <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../install.html">
    Install
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../tutorial.html">
    Tutorial
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../backends.html">
    Backends
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    Reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../auto_examples/index.html">
    Gallery
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../developer/index.html">
    Developer
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../release/index.html">
    Releases
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://networkx.org/nx-guides/">
    Guides
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://networkx.org" title="Home Page" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fas fa-home fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Home Page</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/networkx/networkx" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-github-square fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
          <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-3"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-3"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-3"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-3">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="classes/index.html">Graph types</a></li>
<li class="toctree-l1"><a class="reference internal" href="algorithms/index.html">Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="functions.html">Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="generators.html">Graph generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="linalg.html">Linear algebra</a></li>
<li class="toctree-l1"><a class="reference internal" href="convert.html">Converting to and from other data formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="relabel.html">Relabeling nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="readwrite/index.html">Reading and writing graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="drawing.html">Drawing</a></li>
<li class="toctree-l1"><a class="reference internal" href="randomness.html">Randomness</a></li>
<li class="toctree-l1"><a class="reference internal" href="exceptions.html">Exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Utilities</a></li>
<li class="toctree-l1 current active has-children"><a class="current reference internal" href="#">Backends</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="generated/networkx.utils.backends._dispatchable.html">_dispatchable</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="configs.html">Configs</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Reference</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Backends</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="backends">
<h1>Backends<a class="headerlink" href="#backends" title="Link to this heading">#</a></h1>
<p>NetworkX can be configured to use separate thrid-party backends to improve
performance and add functionality. Backends are optional, installed separately,
and can be enabled either directly in the user’s code or through environment
variables.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The interface used by developers creating custom NetworkX backends is
receiving frequent updates and improvements. Participating in weekly
<a class="reference external" href="https://scientific-python.org/calendars/networkx.ics">NetworkX dispatch meetings</a> is an excellent way
to stay updated and contribute to the ongoing discussions.</p>
</div>
<section id="docs-for-backend-users">
<span id="module-networkx.utils.backends"></span><h2>Docs for backend users<a class="headerlink" href="#docs-for-backend-users" title="Link to this heading">#</a></h2>
<p>NetworkX utilizes a plugin-dispatch architecture. A valid NetworkX backend
specifies <a class="reference external" href="https://packaging.python.org/en/latest/specifications/entry-points">entry points</a>, named
<code class="docutils literal notranslate"><span class="pre">networkx.backends</span></code> and an optional <code class="docutils literal notranslate"><span class="pre">networkx.backend_info</span></code> when it is
installed (not imported). This allows NetworkX to dispatch (redirect) function
calls to the backend so the execution flows to the designated backend
implementation. This design enhances flexibility and integration, making
NetworkX more adaptable and efficient.</p>
<p>NetworkX can dispatch to backends <strong>explicitly</strong> (this requires changing code)
or <strong>automatically</strong> (this requires setting configuration or environment
variables). The best way to use a backend depends on the backend, your use
case, and whether you want to automatically convert to or from backend
graphs. Automatic conversions of graphs is always opt-in.</p>
<p>To explicitly dispatch to a backend, use the <code class="xref py py-obj docutils literal notranslate"><span class="pre">backend=</span></code> keyword argument in a
dispatchable function. This will convert (and cache by default) input NetworkX
graphs to backend graphs and call the backend implementation. Another explicit
way to use a backend is to create a backend graph directly–for example,
perhaps the backend has its own functions for loading data and creating
graphs–and pass that graph to a dispatchable function, which will then call
the backend implementation without converting.</p>
<p>Using automatic dispatch requires setting configuration options. Every NetworkX
configuration may also be set from an environment variable and are processed at
the time networkx is imported.  The following configuration variables are
supported:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">nx.config.backend_priority</span></code> (<code class="docutils literal notranslate"><span class="pre">NETWORKX_BACKEND_PRIORITY</span></code> env var), a
list of backends, controls dispatchable functions that don’t return graphs
such as e.g. <code class="docutils literal notranslate"><span class="pre">nx.pagerank</span></code>. When one of these functions is called with
NetworkX graphs as input, the dispatcher iterates over the backends listed in
this backend_priority config and will use the first backend that implements
this function. The input NetworkX graphs are converted (and cached by
default) to backend graphs. Using this configuration can allow you to use the
full flexibility of NetworkX graphs and the performance of backend
implementations, but possible downsides are that creating NetworkX graphs,
converting to backend graphs, and caching backend graphs may all be
expensive.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nx.config.backend_priority.algos</span></code> (<code class="docutils literal notranslate"><span class="pre">NETWORKX_BACKEND_PRIORITY_ALGOS</span></code> env
var), can be used instead of <code class="docutils literal notranslate"><span class="pre">nx.config.backend_priority</span></code>
(<code class="docutils literal notranslate"><span class="pre">NETWORKX_BACKEND_PRIORITY</span></code> env var) to emphasize that the setting only
affects the dispatching of algorithm functions as described above.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nx.config.backend_priority.generators</span></code>
(<code class="docutils literal notranslate"><span class="pre">NETWORKX_BACKEND_PRIORITY_GENERATORS</span></code> env var), a list of backends,
controls dispatchable functions that return graphs such as
nx.from_pandas_edgelist and nx.empty_graph. When one of these functions is
called, the first backend listed in this backend_priority config that
implements this function will be used and will return a backend graph. When
this backend graph is passed to other dispatchable NetworkX functions, it
will use the backend implementation if it exists or raise by default unless
nx.config.fallback_to_nx is True (default is False). Using this configuration
avoids creating NetworkX graphs, which subsequently avoids the need to
convert to and cache backend graphs as when using
nx.config.backend_priority.algos, but possible downsides are that the backend
graph may not behave the same as a NetworkX graph and the backend may not
implement all algorithms that you use, which may break your workflow.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nx.config.fallback_to_nx</span></code> (<code class="docutils literal notranslate"><span class="pre">NETWORKX_FALLBACK_TO_NX</span></code> env var), a boolean
(default False), controls what happens when a backend graph is passed to a
dispatchable function that is not implemented by that backend. The default
behavior when False is to raise. If True, then the backend graph will be
converted (and cached by default) to a NetworkX graph and will run with the
default NetworkX implementation. Enabling this configuration can allow
workflows to complete if the backend does not implement all algorithms used
by the workflow, but a possible downside is that it may require converting
the input backend graph to a NetworkX graph, which may be expensive. If a
backend graph is duck-type compatible as a NetworkX graph, then the backend
may choose not to convert to a NetworkX graph and use the incoming graph
as-is.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nx.config.cache_converted_graphs</span></code> (<code class="docutils literal notranslate"><span class="pre">NETWORKX_CACHE_CONVERTED_GRAPHS</span></code> env
var), a boolean (default True), controls whether graph conversions are cached
to G.__networkx_cache__ or not. Caching can improve performance by avoiding
repeated conversions, but it uses more memory.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Backends <em>should</em> follow the NetworkX backend naming convention. For
example, if a backend is named <code class="docutils literal notranslate"><span class="pre">parallel</span></code> and specified using
<code class="docutils literal notranslate"><span class="pre">backend=parallel</span></code> or <code class="docutils literal notranslate"><span class="pre">NETWORKX_BACKEND_PRIORITY=parallel</span></code>, the package
installed is <code class="docutils literal notranslate"><span class="pre">nx-parallel</span></code>, and we would use <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">nx_parallel</span></code> if we
were to import the backend package directly.</p>
</div>
<p>Backends are encouraged to document how they recommend to be used and whether
their graph types are duck-type compatible as NetworkX graphs. If backend
graphs are NetworkX-compatible and you want your workflow to automatically
“just work” with a backend–converting and caching if necessary–then use all
of the above configurations. Automatically converting graphs is opt-in, and
configuration gives the user control.</p>
<section id="examples">
<h3>Examples:<a class="headerlink" href="#examples" title="Link to this heading">#</a></h3>
<p>Use the <code class="docutils literal notranslate"><span class="pre">cugraph</span></code> backend for every algorithm function it supports. This will
allow for fall back to the default NetworkX implementations for algorithm calls
not supported by cugraph because graph generator functions are still returning
NetworkX graphs.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bash&gt;<span class="w"> </span><span class="nv">NETWORKX_BACKEND_PRIORITY</span><span class="o">=</span>cugraph<span class="w"> </span>python<span class="w"> </span>my_networkx_script.py
</pre></div>
</div>
<p>Explicitly use the <code class="docutils literal notranslate"><span class="pre">parallel</span></code> backend for a function call.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">nx</span><span class="o">.</span><span class="n">betweenness_centrality</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">backend</span><span class="o">=</span><span class="s2">&quot;parallel&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Explicitly use the <code class="docutils literal notranslate"><span class="pre">parallel</span></code> backend for a function call by passing an
instance of the backend graph type to the function.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">H</span> <span class="o">=</span> <span class="n">nx_parallel</span><span class="o">.</span><span class="n">ParallelGraph</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">betweenness_centrality</span><span class="p">(</span><span class="n">H</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<p>Explicitly use the <code class="docutils literal notranslate"><span class="pre">parallel</span></code> backend and pass additional backend-specific
arguments. Here, <code class="docutils literal notranslate"><span class="pre">get_chunks</span></code> is an argument unique to the <code class="docutils literal notranslate"><span class="pre">parallel</span></code>
backend.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">nx</span><span class="o">.</span><span class="n">betweenness_centrality</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">backend</span><span class="o">=</span><span class="s2">&quot;parallel&quot;</span><span class="p">,</span> <span class="n">get_chunks</span><span class="o">=</span><span class="n">get_chunks</span><span class="p">)</span>
</pre></div>
</div>
<p>Automatically dispatch the <code class="docutils literal notranslate"><span class="pre">cugraph</span></code> backend for all NetworkX algorithms and
generators, and allow the backend graph object returned from generators to be
passed to NetworkX functions the backend does not support.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bash&gt;<span class="w"> </span><span class="nv">NETWORKX_BACKEND_PRIORITY_ALGOS</span><span class="o">=</span>cugraph<span class="w"> </span><span class="se">\</span>
<span class="w">      </span><span class="nv">NETWORKX_BACKEND_PRIORITY_GENERATORS</span><span class="o">=</span>cugraph<span class="w"> </span><span class="se">\</span>
<span class="w">      </span><span class="nv">NETWORKX_FALLBACK_TO_NX</span><span class="o">=</span>True<span class="w"> </span><span class="se">\</span>
<span class="w">      </span>python<span class="w"> </span>my_networkx_script.py
</pre></div>
</div>
</section>
<section id="how-does-this-work">
<h3>How does this work?<a class="headerlink" href="#how-does-this-work" title="Link to this heading">#</a></h3>
<p>If you’ve looked at functions in the NetworkX codebase, you might have seen the
<code class="docutils literal notranslate"><span class="pre">&#64;nx._dispatchable</span></code> decorator on most of the functions. This decorator allows the NetworkX
function to dispatch to the corresponding backend function if available. When the decorated
function is called, it first checks for a backend to run the function, and if no appropriate
backend is specified or available, it runs the NetworkX version of the function.</p>
<section id="backend-keyword-argument">
<h4>Backend Keyword Argument<a class="headerlink" href="#backend-keyword-argument" title="Link to this heading">#</a></h4>
<p>When a decorated function is called with the <code class="docutils literal notranslate"><span class="pre">backend</span></code> kwarg provided, it checks
if the specified backend is installed, and loads it. Next it checks whether to convert
input graphs by first resolving the backend of each input graph by looking
for an attribute named <code class="docutils literal notranslate"><span class="pre">__networkx_backend__</span></code> that holds the backend name for that
graph type. If all input graphs backend matches the <code class="docutils literal notranslate"><span class="pre">backend</span></code> kwarg, the backend’s
function is called with the original inputs. If any of the input graphs do not match
the <code class="docutils literal notranslate"><span class="pre">backend</span></code> kwarg, they are converted to the backend graph type before calling.
Exceptions are raised if any step is not possible, e.g. if the backend does not
implement this function.</p>
</section>
<section id="finding-a-backend">
<h4>Finding a Backend<a class="headerlink" href="#finding-a-backend" title="Link to this heading">#</a></h4>
<p>When a decorated function is called without a <code class="docutils literal notranslate"><span class="pre">backend</span></code> kwarg, it tries to find a
dispatchable backend function.
The backend type of each input graph parameter is resolved (using the
<code class="docutils literal notranslate"><span class="pre">__networkx_backend__</span></code> attribute) and if they all agree, that backend’s function
is called if possible. Otherwise the backends listed in the config <code class="docutils literal notranslate"><span class="pre">backend_priority</span></code>
are considered one at a time in order. If that backend supports the function and
can convert the input graphs to its backend type, that backend function is called.
Otherwise the next backend is considered.</p>
<p>During this process, the backends can provide helpful information to the dispatcher
via helper methods in the backend’s interface. Backend methods <code class="docutils literal notranslate"><span class="pre">can_run</span></code> and
<code class="docutils literal notranslate"><span class="pre">should_run</span></code> are used by the dispatcher to determine whether to use the backend
function. If the number of nodes is small, it might be faster to run the NetworkX
version of the function. This is how backends can provide info about whether to run.</p>
</section>
<section id="falling-back-to-networkx">
<h4>Falling Back to NetworkX<a class="headerlink" href="#falling-back-to-networkx" title="Link to this heading">#</a></h4>
<p>If none of the backends are appropriate, we “fall back” to the NetworkX function.
That means we resolve the backends of all input graphs and if all are NetworkX
graphs we call the NetworkX function. If any are not NetworkX graphs, we raise
an exception unless the <code class="xref py py-obj docutils literal notranslate"><span class="pre">fallback_to_nx</span></code> config is set. If it is, we convert all
graph types to NetworkX graph types before calling the NetworkX function.</p>
</section>
<section id="functions-that-mutate-the-graph">
<h4>Functions that mutate the graph<a class="headerlink" href="#functions-that-mutate-the-graph" title="Link to this heading">#</a></h4>
<p>Any function decorated with the option that indicates it mutates the graph goes through
a slightly different path to automatically find backends. These functions typically
generate a graph, or add attributes or change the graph structure. The config
<code class="xref py py-obj docutils literal notranslate"><span class="pre">backend_priority.generators</span></code> holds a list of backend names similar to the config
<code class="xref py py-obj docutils literal notranslate"><span class="pre">backend_priority</span></code>. The process is similar for finding a matching backend. Once found,
the backend function is called and a backend graph is returned (instead of a NetworkX
graph). You can then use this backend graph in any function supported by the backend.
And you can use it for functions not supported by the backend if you set the config
<code class="xref py py-obj docutils literal notranslate"><span class="pre">fallback_to_nx</span></code> to allow it to convert the backend graph to a NetworkX graph before
calling the function.</p>
</section>
<section id="optional-keyword-arguments">
<h4>Optional keyword arguments<a class="headerlink" href="#optional-keyword-arguments" title="Link to this heading">#</a></h4>
<p>Backends can add optional keyword parameters to NetworkX functions to allow you to
control aspects of the backend algorithm. Thus the function signatures can be extended
beyond the NetworkX function signature. For example, the <code class="docutils literal notranslate"><span class="pre">parallel</span></code> backend might
have a parameter to specify how many CPUs to use. These parameters are collected
by the dispatchable decorator code at the start of the function call and used when
calling the backend function.</p>
</section>
<section id="existing-backends">
<h4>Existing Backends<a class="headerlink" href="#existing-backends" title="Link to this heading">#</a></h4>
<p>NetworkX does not know all the backends that have been created.  In fact, the
NetworkX library does not need to know that a backend exists for it to work. As
long as the backend package creates the <code class="docutils literal notranslate"><span class="pre">entry_point</span></code>, and provides the
correct interface, it will be called when the user requests it using one of the
three approaches described above. Some backends have been working with the
NetworkX developers to ensure smooth operation.</p>
<p>Refer to the <a class="reference internal" href="../backends.html"><span class="doc">Backends</span></a> section to see a list of available backends known
to work with the current stable release of NetworkX.</p>
</section>
</section>
<section id="introspection-and-logging">
<span id="introspect"></span><h3>Introspection and Logging<a class="headerlink" href="#introspection-and-logging" title="Link to this heading">#</a></h3>
<p>Introspection techniques aim to demystify dispatching and backend graph conversion behaviors.</p>
<p>The primary way to see what the dispatch machinery is doing is by enabling logging.
This can help you verify that the backend you specified is being used.
You can enable NetworkX’s backend logger to print to <code class="docutils literal notranslate"><span class="pre">sys.stderr</span></code> like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">logging</span>
<span class="n">nxl</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;networkx&quot;</span><span class="p">)</span>
<span class="n">nxl</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">StreamHandler</span><span class="p">())</span>
<span class="n">nxl</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>
</pre></div>
</div>
<p>And you can disable it by running this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nxl</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">CRITICAL</span><span class="p">)</span>
</pre></div>
</div>
<p>Refer to <a class="reference external" href="https://docs.python.org/3/library/logging.html#module-logging" title="(in Python v3.13)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">logging</span></code></a> to learn more about the logging facilities in Python.</p>
<p>By looking at the <code class="docutils literal notranslate"><span class="pre">.backends</span></code> attribute, you can get the set of all currently
installed backends that implement a particular function. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">betweenness_centrality</span><span class="o">.</span><span class="n">backends</span>  
<span class="go">{&#39;parallel&#39;}</span>
</pre></div>
</div>
<p>The function docstring will also show which installed backends support it
along with any backend-specific notes and keyword arguments:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">help</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">betweenness_centrality</span><span class="p">)</span>  
<span class="gp">...</span>
<span class="go">Backends</span>
<span class="go">--------</span>
<span class="go">parallel : Parallel backend for NetworkX algorithms</span>
<span class="go">  The parallel computation is implemented by dividing the nodes into chunks</span>
<span class="go">  and computing betweenness centrality for each chunk concurrently.</span>
<span class="go">...</span>
</pre></div>
</div>
<p>The NetworkX documentation website also includes info about trusted backends of NetworkX in function references.
For example, see <a class="reference internal" href="algorithms/generated/networkx.algorithms.shortest_paths.weighted.all_pairs_bellman_ford_path_length.html#networkx.algorithms.shortest_paths.weighted.all_pairs_bellman_ford_path_length" title="networkx.algorithms.shortest_paths.weighted.all_pairs_bellman_ford_path_length"><code class="xref py py-func docutils literal notranslate"><span class="pre">all_pairs_bellman_ford_path_length()</span></code></a>.</p>
<p>Introspection capabilities are currently limited, but we are working to improve them.
We plan to make it easier to answer questions such as:</p>
<ul class="simple">
<li><p>What happened (and why)?</p></li>
<li><p>What <em>will</em> happen (and why)?</p></li>
<li><p>Where was time spent (including conversions)?</p></li>
<li><p>What is in the cache and how much memory is it using?</p></li>
</ul>
<p>Transparency is essential to allow for greater understanding, debug-ability,
and customization. After all, NetworkX dispatching is extremely flexible and can
support advanced workflows with multiple backends and fine-tuned configuration,
but introspection can be helpful by describing <em>when</em> and <em>how</em> to evolve your workflow
to meet your needs. If you have suggestions for how to improve introspection, please
<a class="reference external" href="https://github.com/networkx/networkx/issues/new">let us know</a>!</p>
</section>
</section>
<section id="docs-for-backend-developers">
<h2>Docs for backend developers<a class="headerlink" href="#docs-for-backend-developers" title="Link to this heading">#</a></h2>
<section id="creating-a-custom-backend">
<h3>Creating a custom backend<a class="headerlink" href="#creating-a-custom-backend" title="Link to this heading">#</a></h3>
<ol class="arabic">
<li><p>Defining a <code class="docutils literal notranslate"><span class="pre">BackendInterface</span></code> object:</p>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">BackendInterface</span></code> doesn’t need to must be a class. It can be an
instance of a class, or a module as well. You can define the following methods or
functions in your backend’s <code class="docutils literal notranslate"><span class="pre">BackendInterface</span></code> object.:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">convert_from_nx</span></code> and <code class="docutils literal notranslate"><span class="pre">convert_to_nx</span></code> methods or functions are required for
backend dispatching to work. The arguments to <code class="docutils literal notranslate"><span class="pre">convert_from_nx</span></code> are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">G</span></code> : NetworkX Graph</p></li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">edge_attrs</span></code><span class="classifier">dict, optional</span></dt><dd><p>Dictionary mapping edge attributes to default values if missing in <code class="docutils literal notranslate"><span class="pre">G</span></code>.
If None, then no edge attributes will be converted and default may be 1.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">node_attrs</span></code>: dict, optional</dt><dd><p>Dictionary mapping node attributes to default values if missing in <code class="docutils literal notranslate"><span class="pre">G</span></code>.
If None, then no node attributes will be converted.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">preserve_edge_attrs</span></code><span class="classifier">bool</span></dt><dd><p>Whether to preserve all edge attributes.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">preserve_node_attrs</span></code><span class="classifier">bool</span></dt><dd><p>Whether to preserve all node attributes.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">preserve_graph_attrs</span></code><span class="classifier">bool</span></dt><dd><p>Whether to preserve all graph attributes.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">preserve_all_attrs</span></code><span class="classifier">bool</span></dt><dd><p>Whether to preserve all graph, node, and edge attributes.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">name</span></code><span class="classifier">str</span></dt><dd><p>The name of the algorithm.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">graph_name</span></code><span class="classifier">str</span></dt><dd><p>The name of the graph argument being converted.</p>
</dd>
</dl>
</li>
</ul>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">can_run</span></code> (Optional):</dt><dd><p>If your backend only partially implements an algorithm, you can define
a <code class="docutils literal notranslate"><span class="pre">can_run(name,</span> <span class="pre">args,</span> <span class="pre">kwargs)</span></code> function in your <code class="docutils literal notranslate"><span class="pre">BackendInterface</span></code> object that
returns True or False indicating whether the backend can run the algorithm with
the given arguments or not. Instead of a boolean you can also return a string
message to inform the user why that algorithm can’t be run.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">should_run</span></code> (Optional):</dt><dd><p>A backend may also define <code class="docutils literal notranslate"><span class="pre">should_run(name,</span> <span class="pre">args,</span> <span class="pre">kwargs)</span></code>
that is similar to <code class="docutils literal notranslate"><span class="pre">can_run</span></code>, but answers whether the backend <em>should</em> be run.
<code class="docutils literal notranslate"><span class="pre">should_run</span></code> is only run when performing backend graph conversions. Like
<code class="docutils literal notranslate"><span class="pre">can_run</span></code>, it receives the original arguments so it can decide whether it
should be run by inspecting the arguments. <code class="docutils literal notranslate"><span class="pre">can_run</span></code> runs before
<code class="docutils literal notranslate"><span class="pre">should_run</span></code>, so <code class="docutils literal notranslate"><span class="pre">should_run</span></code> may assume <code class="docutils literal notranslate"><span class="pre">can_run</span></code> is True. If not
implemented by the backend, <code class="docutils literal notranslate"><span class="pre">can_run``and</span> <span class="pre">``should_run</span></code> are assumed to
always return True if the backend implements the algorithm.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">on_start_tests</span></code> (Optional):</dt><dd><p>A special <code class="docutils literal notranslate"><span class="pre">on_start_tests(items)</span></code> function may be defined by the backend.
It will be called with the list of NetworkX tests discovered. Each item
is a test object that can be marked as xfail if the backend does not support
the test using <code class="docutils literal notranslate"><span class="pre">item.add_marker(pytest.mark.xfail(reason=...))</span></code>.</p>
</dd>
</dl>
</li>
</ol>
</li>
<li><p>Adding entry points</p>
<p>To be discoverable by NetworkX, your package must register an
<a class="reference external" href="https://packaging.python.org/en/latest/specifications/entry-points">entry-point</a>
<code class="docutils literal notranslate"><span class="pre">networkx.backends</span></code> in the package’s metadata, with a <a class="reference external" href="https://packaging.python.org/en/latest/guides/creating-and-discovering-plugins/#using-package-metadata">key pointing to your
dispatch object</a> .
For example, if you are using <code class="docutils literal notranslate"><span class="pre">setuptools</span></code> to manage your backend package,
you can <a class="reference external" href="https://setuptools.pypa.io/en/latest/userguide/entry_point.html">add the following to your pyproject.toml file</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">project</span><span class="o">.</span><span class="n">entry</span><span class="o">-</span><span class="n">points</span><span class="o">.</span><span class="s2">&quot;networkx.backends&quot;</span><span class="p">]</span>
<span class="n">backend_name</span> <span class="o">=</span> <span class="s2">&quot;your_backend_interface_object&quot;</span>
</pre></div>
</div>
<p>You can also add the <code class="docutils literal notranslate"><span class="pre">backend_info</span></code> entry-point. It points towards the <code class="docutils literal notranslate"><span class="pre">get_info</span></code>
function that returns all the backend information, which is then used to build the
“Additional Backend Implementation” box at the end of algorithm’s documentation
page. Note that the <code class="xref py py-obj docutils literal notranslate"><span class="pre">get_info</span></code> function shouldn’t import your backend package.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">project</span><span class="o">.</span><span class="n">entry</span><span class="o">-</span><span class="n">points</span><span class="o">.</span><span class="s2">&quot;networkx.backend_info&quot;</span><span class="p">]</span>
<span class="n">backend_name</span> <span class="o">=</span> <span class="s2">&quot;your_get_info_function&quot;</span>
</pre></div>
</div>
<dl>
<dt>The <code class="docutils literal notranslate"><span class="pre">get_info</span></code> should return a dictionary with following key-value pairs:</dt><dd><ul>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">backend_name</span></code><span class="classifier">str or None</span></dt><dd><p>It is the name passed in the <code class="docutils literal notranslate"><span class="pre">backend</span></code> kwarg.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">project</span></code><span class="classifier">str or None</span></dt><dd><p>The name of your backend project.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">package</span></code><span class="classifier">str or None</span></dt><dd><p>The name of your backend package.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">url</span></code><span class="classifier">str or None</span></dt><dd><p>This is the url to either your backend’s codebase or documentation, and
will be displayed as a hyperlink to the <code class="docutils literal notranslate"><span class="pre">backend_name</span></code>, in the
“Additional backend implementations” section.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">short_summary</span></code><span class="classifier">str or None</span></dt><dd><p>One line summary of your backend which will be displayed in the
“Additional backend implementations” section.</p>
</dd>
</dl>
</li>
<li><dl>
<dt><code class="docutils literal notranslate"><span class="pre">default_config</span></code><span class="classifier">dict</span></dt><dd><p>A dictionary mapping the backend config parameter names to their default values.
This is used to automatically initialize the default configs for all the
installed backends at the time of networkx’s import.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="configs.html#networkx.utils.configs.Config" title="networkx.utils.configs.Config"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Config</span></code></a></p>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt><code class="docutils literal notranslate"><span class="pre">functions</span></code><span class="classifier">dict or None</span></dt><dd><p>A dictionary mapping function names to a dictionary of information
about the function. The information can include the following keys:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">url</span></code> : str or None
The url to <code class="docutils literal notranslate"><span class="pre">function</span></code>’s source code or documentation.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">additional_docs</span></code> : str or None
A short description or note about the backend function’s
implementation.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">additional_parameters</span></code> : dict or None
A dictionary mapping additional parameters headers to their
short descriptions. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;additional_parameters&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">&#39;param1 : str, function (default = &quot;chunks&quot;)&#39;</span> <span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
    <span class="s1">&#39;param2 : int&#39;</span> <span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
<p>If any of these keys are not present, the corresponding information
will not be displayed in the “Additional backend implementations”
section on NetworkX docs website.</p>
</dd>
</dl>
</li>
</ul>
<p>Note that your backend’s docs would only appear on the official NetworkX docs only
if your backend is a trusted backend of NetworkX, and is present in the
<code class="xref py py-obj docutils literal notranslate"><span class="pre">circleci/config.yml</span></code> and <code class="xref py py-obj docutils literal notranslate"><span class="pre">github/workflows/deploy-docs.yml</span></code> files in the
NetworkX repository.</p>
</dd>
</dl>
</li>
<li><p>Defining a Backend Graph class</p>
<p>The backend must create an object with an attribute <code class="docutils literal notranslate"><span class="pre">__networkx_backend__</span></code> that holds
a string with the entry point name:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">BackendGraph</span><span class="p">:</span>
    <span class="n">__networkx_backend__</span> <span class="o">=</span> <span class="s2">&quot;backend_name&quot;</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>A backend graph instance may have a <code class="docutils literal notranslate"><span class="pre">G.__networkx_cache__</span></code> dict to enable
caching, and care should be taken to clear the cache when appropriate.</p>
</li>
</ol>
</section>
<section id="testing-the-custom-backend">
<h3>Testing the Custom backend<a class="headerlink" href="#testing-the-custom-backend" title="Link to this heading">#</a></h3>
<p>To test your custom backend, you can run the NetworkX test suite on your backend.
This also ensures that the custom backend is compatible with NetworkX’s API.
The following steps will help you run the tests:</p>
<ol class="arabic">
<li><dl class="simple">
<dt>Setting Backend Environment Variables:</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NETWORKX_TEST_BACKEND</span></code> : Setting this to your backend’s <code class="docutils literal notranslate"><span class="pre">backend_name</span></code> will
let NetworkX’s dispatch machinery to automatically convert a regular NetworkX
<code class="docutils literal notranslate"><span class="pre">Graph</span></code>, <code class="docutils literal notranslate"><span class="pre">DiGraph</span></code>, <code class="docutils literal notranslate"><span class="pre">MultiGraph</span></code>, etc. to their backend equivalents, using
<code class="docutils literal notranslate"><span class="pre">your_backend_interface_object.convert_from_nx(G,</span> <span class="pre">...)</span></code> function.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NETWORKX_FALLBACK_TO_NX</span></code> (default=False) : Setting this variable to <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a> will
instruct tests to use a NetworkX <code class="docutils literal notranslate"><span class="pre">Graph</span></code> for algorithms not implemented by your
custom backend. Setting this to <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a> will only run the tests for algorithms
implemented by your custom backend and tests for other algorithms will <code class="docutils literal notranslate"><span class="pre">xfail</span></code>.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt>Running Tests:</dt><dd><p>You can invoke NetworkX tests for your custom backend with the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">NETWORKX_TEST_BACKEND</span><span class="o">=&lt;</span><span class="n">backend_name</span><span class="o">&gt;</span>
<span class="n">NETWORKX_FALLBACK_TO_NX</span><span class="o">=</span><span class="kc">True</span> <span class="c1"># or False</span>
<span class="n">pytest</span> <span class="o">--</span><span class="n">pyargs</span> <span class="n">networkx</span>
</pre></div>
</div>
</dd>
</dl>
</li>
</ol>
</section>
<section id="how-tests-are-run">
<h3>How tests are run?<a class="headerlink" href="#how-tests-are-run" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>While dispatching to the backend implementation the <code class="docutils literal notranslate"><span class="pre">_convert_and_call</span></code> function
is used and while testing the <code class="docutils literal notranslate"><span class="pre">_convert_and_call_for_tests</span></code> function is used.
Other than testing it also checks for functions that return numpy scalars, and
for functions that return graphs it runs the backend implementation and the
networkx implementation and then converts the backend graph into a NetworkX graph
and then compares them, and returns the networkx graph. This can be regarded as
(pragmatic) technical debt. We may replace these checks in the future.</p></li>
<li><dl class="simple">
<dt>Conversions while running tests:</dt><dd><ul class="simple">
<li><p>Convert NetworkX graphs using <code class="docutils literal notranslate"><span class="pre">&lt;your_backend_interface_object&gt;.convert_from_nx(G,</span> <span class="pre">...)</span></code> into
the backend graph.</p></li>
<li><p>Pass the backend graph objects to the backend implementation of the algorithm.</p></li>
<li><p>Convert the result back to a form expected by NetworkX tests using
<code class="docutils literal notranslate"><span class="pre">&lt;your_backend_interface_object&gt;.convert_to_nx(result,</span> <span class="pre">...)</span></code>.</p></li>
<li><p>For nx_loopback, the graph is copied using the dispatchable metadata</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Dispatchable algorithms that are not implemented by the backend
will cause a <code class="docutils literal notranslate"><span class="pre">pytest.xfail</span></code>, when the <code class="docutils literal notranslate"><span class="pre">NETWORKX_FALLBACK_TO_NX</span></code>
environment variable is set to <code class="docutils literal notranslate"><span class="pre">False</span></code>, giving some indication that
not all tests are running, while avoiding causing an explicit failure.</p></li>
</ol>
</section>
</section>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/networkx.utils.backends._dispatchable.html#networkx.utils.backends._dispatchable" title="networkx.utils.backends._dispatchable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">_dispatchable</span></code></a>([func, name, graphs, ...])</p></td>
<td><p>A decorator function that is used to redirect the execution of <code class="docutils literal notranslate"><span class="pre">func</span></code> function to its backend implementation.</p></td>
</tr>
</tbody>
</table>
</div>
</section>


                </article>
              
              
              
              
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#docs-for-backend-users">Docs for backend users</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#examples">Examples:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-does-this-work">How does this work?</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#backend-keyword-argument">Backend Keyword Argument</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#finding-a-backend">Finding a Backend</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#falling-back-to-networkx">Falling Back to NetworkX</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#functions-that-mutate-the-graph">Functions that mutate the graph</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#optional-keyword-arguments">Optional keyword arguments</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#existing-backends">Existing Backends</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#introspection-and-logging">Introspection and Logging</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#docs-for-backend-developers">Docs for backend developers</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-a-custom-backend">Creating a custom backend</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#testing-the-custom-backend">Testing the Custom backend</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-tests-are-run">How tests are run?</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2004-2024, NetworkX Developers.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.0.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>