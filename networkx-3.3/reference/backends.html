
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Backends and Configs &#8212; NetworkX 3.3 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=f84a2825" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=61a4c737" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../_static/documentation_options.js?v=a05ee42b"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/copybutton.js?v=e333d19b"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'reference/backends';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.15.2';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://networkx.org/documentation/latest/_static/version_switcher.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '3.3';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = true;
        </script>
    <link rel="canonical" href="https://networkx.org/documentation/stable/reference/backends.html" />
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within NetworkX 3.3 documentation"
          href="../_static/opensearch.xml"/>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Glossary" href="glossary.html" />
    <link rel="prev" title="MappedQueue.update" href="generated/generated/networkx.utils.mapped_queue.MappedQueue.update.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
    <meta name="docbuild:last-update" content="Apr 06, 2024"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/networkx_banner.svg" class="logo__image only-light" alt="NetworkX 3.3 documentation - Home"/>
    <script>document.write(`<img src="../_static/networkx_banner.svg" class="logo__image only-dark" alt="NetworkX 3.3 documentation - Home"/>`);</script>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../install.html">
                        Install
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../tutorial.html">
                        Tutorial
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        Reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../auto_examples/index.html">
                        Gallery
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../developer/index.html">
                        Developer
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../release/index.html">
                        Releases
                      </a>
                    </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://networkx.org/nx-guides/">
                    Guides
                  </a>
                </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://networkx.org" title="Home Page" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fas fa-home fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Home Page</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/networkx/networkx" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-github-square fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
        <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-2"
      type="button"
      class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-2"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-2"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-2">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../install.html">
                        Install
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../tutorial.html">
                        Tutorial
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        Reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../auto_examples/index.html">
                        Gallery
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../developer/index.html">
                        Developer
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../release/index.html">
                        Releases
                      </a>
                    </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://networkx.org/nx-guides/">
                    Guides
                  </a>
                </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://networkx.org" title="Home Page" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fas fa-home fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Home Page</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/networkx/networkx" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-github-square fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
          <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-3"
      type="button"
      class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-3"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-3"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-3">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="classes/index.html">Graph types</a></li>
<li class="toctree-l1"><a class="reference internal" href="algorithms/index.html">Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="functions.html">Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="generators.html">Graph generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="linalg.html">Linear algebra</a></li>
<li class="toctree-l1"><a class="reference internal" href="convert.html">Converting to and from other data formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="relabel.html">Relabeling nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="readwrite/index.html">Reading and writing graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="drawing.html">Drawing</a></li>
<li class="toctree-l1"><a class="reference internal" href="randomness.html">Randomness</a></li>
<li class="toctree-l1"><a class="reference internal" href="exceptions.html">Exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Utilities</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Backends and Configs</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Reference</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Backends and Configs</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="backends-and-configs">
<h1>Backends and Configs<a class="headerlink" href="#backends-and-configs" title="Link to this heading">#</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Both NetworkX backend and config systems are experimental. They
let you execute an alternative backend implementation instead of NetworkX’s
pure Python dictionaries implementation. Things will almost certainly
change and break in future releases!</p>
</div>
<section id="module-networkx.utils.backends">
<span id="backends"></span><h2>Backends<a class="headerlink" href="#module-networkx.utils.backends" title="Link to this heading">#</a></h2>
<p>NetworkX utilizes a plugin-dispatch architecture, which means we can plug in and
out of backends with minimal code changes. A valid NetworkX backend specifies
<a class="reference external" href="https://packaging.python.org/en/latest/specifications/entry-points">entry points</a>,
named <code class="docutils literal notranslate"><span class="pre">networkx.backends</span></code> and an optional <code class="docutils literal notranslate"><span class="pre">networkx.backend_info</span></code> when it is
installed (not imported). This allows NetworkX to dispatch (redirect) function calls
to the backend so the execution flows to the designated backend
implementation, similar to how plugging a charger into a socket redirects the
electricity to your phone. This design enhances flexibility and integration, making
NetworkX more adaptable and efficient.</p>
<p>There are three main ways to use a backend after the package is installed.
You can set environment variables and run the exact same code you run for
NetworkX. You can use a keyword argument <code class="docutils literal notranslate"><span class="pre">backend=...</span></code> with the NetworkX
function. Or, you can convert the NetworkX Graph to a backend graph type and
call a NetworkX function supported by that backend. Environment variables
and backend keywords automatically convert your NetworkX Graph to the
backend type. Manually converting it yourself allows you to use that same
backend graph for more than one function call, reducing conversion time.</p>
<p>For example, you can set an environment variable before starting python to request
all dispatchable functions automatically dispatch to the given backend:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bash</span><span class="o">&gt;</span> <span class="n">NETWORKX_AUTOMATIC_BACKENDS</span><span class="o">=</span><span class="n">cugraph</span> <span class="n">python</span> <span class="n">my_networkx_script</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>or you can specify the backend as a kwarg:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nx</span><span class="o">.</span><span class="n">betweenness_centrality</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">backend</span><span class="o">=</span><span class="s2">&quot;parallel&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>or you can convert the NetworkX Graph object <code class="docutils literal notranslate"><span class="pre">G</span></code> into a Graph-like
object specific to the backend and then pass that in the NetworkX function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">H</span> <span class="o">=</span> <span class="n">nx_parallel</span><span class="o">.</span><span class="n">ParallelGraph</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
<span class="n">nx</span><span class="o">.</span><span class="n">betweenness_centrality</span><span class="p">(</span><span class="n">H</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<p>How it works: You might have seen the <code class="docutils literal notranslate"><span class="pre">&#64;nx._dispatchable</span></code> decorator on
many of the NetworkX functions in the codebase. It decorates the function
with code that redirects execution to the function’s backend implementation.
The code also manages any <code class="docutils literal notranslate"><span class="pre">backend_kwargs</span></code> you provide to the backend
version of the function. The code looks for the environment variable or
a <code class="docutils literal notranslate"><span class="pre">backend</span></code> keyword argument and if found, converts the input NetworkX
graph to the backend format before calling the backend’s version of the
function. If no environment variable or backend keyword are found, the
dispatching code checks the input graph object for an attribute
called <code class="docutils literal notranslate"><span class="pre">__networkx_backend__</span></code> which tells it which backend provides this
graph type. That backend’s version of the function is then called.
The backend system relies on Python <code class="docutils literal notranslate"><span class="pre">entry_point</span></code> system to signal
NetworkX that a backend is installed (even if not imported yet). Thus no
code needs to be changed between running with NetworkX and running with
a backend to NetworkX. The attribute <code class="docutils literal notranslate"><span class="pre">__networkx_backend__</span></code> holds a
string with the name of the <code class="docutils literal notranslate"><span class="pre">entry_point</span></code>. If none of these options
are being used, the decorator code simply calls the NetworkX function
on the NetworkX graph as usual.</p>
<p>The NetworkX library does not need to know that a backend exists for it
to work. So long as the backend package creates the entry_point, and
provides the correct interface, it will be called when the user requests
it using one of the three approaches described above. Some backends have
been working with the NetworkX developers to ensure smooth operation.
They are the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>- `graphblas &lt;https://github.com/python-graphblas/graphblas-algorithms&gt;`_
- `cugraph &lt;https://github.com/rapidsai/cugraph/tree/branch-24.04/python/nx-cugraph&gt;`_
- `parallel &lt;https://github.com/networkx/nx-parallel&gt;`_
- ``loopback`` is for testing purposes only and is not a real backend.
</pre></div>
</div>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">backend_name</span></code> is e.g. <code class="docutils literal notranslate"><span class="pre">parallel</span></code>, the package installed
is <code class="docutils literal notranslate"><span class="pre">nx-parallel</span></code>, and we use <code class="docutils literal notranslate"><span class="pre">nx_parallel</span></code> while importing the package.</p>
<section id="creating-a-custom-backend">
<h3>Creating a Custom backend<a class="headerlink" href="#creating-a-custom-backend" title="Link to this heading">#</a></h3>
<ol class="arabic">
<li><p>To be a valid backend that is discoverable by NetworkX, your package must
register an <a class="reference external" href="https://packaging.python.org/en/latest/specifications/entry-points/#entry-points">entry-point</a>
<code class="docutils literal notranslate"><span class="pre">networkx.backends</span></code> in the package’s metadata, with a <a class="reference external" href="https://packaging.python.org/en/latest/guides/creating-and-discovering-plugins/#using-package-metadata">key pointing to your
dispatch object</a> .
For example, if you are using <code class="docutils literal notranslate"><span class="pre">setuptools</span></code> to manage your backend package,
you can <a class="reference external" href="https://setuptools.pypa.io/en/latest/userguide/entry_point.html">add the following to your pyproject.toml file</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">project</span><span class="o">.</span><span class="n">entry</span><span class="o">-</span><span class="n">points</span><span class="o">.</span><span class="s2">&quot;networkx.backends&quot;</span><span class="p">]</span>
<span class="n">backend_name</span> <span class="o">=</span> <span class="s2">&quot;your_dispatcher_class&quot;</span>
</pre></div>
</div>
<p>You can also add the <code class="docutils literal notranslate"><span class="pre">backend_info</span></code> entry-point. It points towards the <code class="docutils literal notranslate"><span class="pre">get_info</span></code>
function that returns all the backend information, which is then used to build the
“Additional Backend Implementation” box at the end of algorithm’s documentation
page (e.g. <a class="reference external" href="https://github.com/rapidsai/cugraph/blob/branch-24.04/python/nx-cugraph/_nx_cugraph/__init__.py">nx-cugraph’s get_info function</a>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">project</span><span class="o">.</span><span class="n">entry</span><span class="o">-</span><span class="n">points</span><span class="o">.</span><span class="s2">&quot;networkx.backend_info&quot;</span><span class="p">]</span>
<span class="n">backend_name</span> <span class="o">=</span> <span class="s2">&quot;your_get_info_function&quot;</span>
</pre></div>
</div>
<p>Note that this would only work if your backend is a trusted backend of NetworkX,
and is present in the <code class="xref py py-obj docutils literal notranslate"><span class="pre">circleci/config.yml</span></code> and
<code class="xref py py-obj docutils literal notranslate"><span class="pre">github/workflows/deploy-docs.yml</span></code> files in the NetworkX repository.</p>
</li>
<li><p>The backend must create an <code class="docutils literal notranslate"><span class="pre">nx.Graph</span></code>-like object which contains an attribute
<code class="docutils literal notranslate"><span class="pre">__networkx_backend__</span></code> with a value of the entry point name:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">BackendGraph</span><span class="p">:</span>
    <span class="n">__networkx_backend__</span> <span class="o">=</span> <span class="s2">&quot;backend_name&quot;</span>
    <span class="o">...</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="testing-the-custom-backend">
<h3>Testing the Custom backend<a class="headerlink" href="#testing-the-custom-backend" title="Link to this heading">#</a></h3>
<p>To test your custom backend, you can run the NetworkX test suite with your backend.
This also ensures that the custom backend is compatible with NetworkX’s API.</p>
<section id="testing-environment-setup">
<h4>Testing Environment Setup<a class="headerlink" href="#testing-environment-setup" title="Link to this heading">#</a></h4>
<p>To enable automatic testing with your custom backend, follow these steps:</p>
<ol class="arabic simple">
<li><dl class="simple">
<dt>Set Backend Environment Variables: </dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NETWORKX_TEST_BACKEND</span></code> : Setting this to your registered backend key will let
the NetworkX’s dispatch machinery automatically convert a regular NetworkX
<code class="docutils literal notranslate"><span class="pre">Graph</span></code>, <code class="docutils literal notranslate"><span class="pre">DiGraph</span></code>, <code class="docutils literal notranslate"><span class="pre">MultiGraph</span></code>, etc. to their backend equivalents, using
<code class="docutils literal notranslate"><span class="pre">your_dispatcher_class.convert_from_nx(G,</span> <span class="pre">...)</span></code> function.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NETWORKX_FALLBACK_TO_NX</span></code> (default=False) : Setting this variable to <a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a> will
instruct tests to use a NetworkX <code class="docutils literal notranslate"><span class="pre">Graph</span></code> for algorithms not implemented by your
custom backend. Setting this to <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a> will only run the tests for algorithms
implemented by your custom backend and tests for other algorithms will <code class="docutils literal notranslate"><span class="pre">xfail</span></code>.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Defining <code class="docutils literal notranslate"><span class="pre">convert_from_nx</span></code> and <code class="docutils literal notranslate"><span class="pre">convert_to_nx</span></code> methods:</dt><dd><p>The arguments to <code class="docutils literal notranslate"><span class="pre">convert_from_nx</span></code> are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">G</span></code> : NetworkX Graph</p></li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">edge_attrs</span></code><span class="classifier">dict, optional</span></dt><dd><p>Dictionary mapping edge attributes to default values if missing in <code class="docutils literal notranslate"><span class="pre">G</span></code>.
If None, then no edge attributes will be converted and default may be 1.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">node_attrs</span></code>: dict, optional</dt><dd><p>Dictionary mapping node attributes to default values if missing in <code class="docutils literal notranslate"><span class="pre">G</span></code>.
If None, then no node attributes will be converted.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">preserve_edge_attrs</span></code><span class="classifier">bool</span></dt><dd><p>Whether to preserve all edge attributes.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">preserve_node_attrs</span></code><span class="classifier">bool</span></dt><dd><p>Whether to preserve all node attributes.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">preserve_graph_attrs</span></code><span class="classifier">bool</span></dt><dd><p>Whether to preserve all graph attributes.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">preserve_all_attrs</span></code><span class="classifier">bool</span></dt><dd><p>Whether to preserve all graph, node, and edge attributes.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">name</span></code><span class="classifier">str</span></dt><dd><p>The name of the algorithm.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">graph_name</span></code><span class="classifier">str</span></dt><dd><p>The name of the graph argument being converted.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ol>
</section>
<section id="running-tests">
<h4>Running Tests<a class="headerlink" href="#running-tests" title="Link to this heading">#</a></h4>
<p>You can invoke NetworkX tests for your custom backend with the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">NETWORKX_TEST_BACKEND</span><span class="o">=&lt;</span><span class="n">backend_name</span><span class="o">&gt;</span>
<span class="n">NETWORKX_FALLBACK_TO_NX</span><span class="o">=</span><span class="kc">True</span> <span class="c1"># or False</span>
<span class="n">pytest</span> <span class="o">--</span><span class="n">pyargs</span> <span class="n">networkx</span>
</pre></div>
</div>
<p>Conversions while running tests :</p>
<ul class="simple">
<li><p>Convert NetworkX graphs using <code class="docutils literal notranslate"><span class="pre">&lt;your_dispatcher_class&gt;.convert_from_nx(G,</span> <span class="pre">...)</span></code> into
the backend graph.</p></li>
<li><p>Pass the backend graph objects to the backend implementation of the algorithm.</p></li>
<li><p>Convert the result back to a form expected by NetworkX tests using 
<code class="docutils literal notranslate"><span class="pre">&lt;your_dispatcher_class&gt;.convert_to_nx(result,</span> <span class="pre">...)</span></code>.</p></li>
</ul>
</section>
<section id="notes">
<h4>Notes<a class="headerlink" href="#notes" title="Link to this heading">#</a></h4>
<ul class="simple">
<li><p>Dispatchable algorithms that are not implemented by the backend
will cause a <code class="docutils literal notranslate"><span class="pre">pytest.xfail</span></code>, giving some indication that not all
tests are running, while avoiding causing an explicit failure.</p></li>
<li><p>If a backend only partially implements some algorithms, it can define
a <code class="docutils literal notranslate"><span class="pre">can_run(name,</span> <span class="pre">args,</span> <span class="pre">kwargs)</span></code> function that returns True or False
indicating whether it can run the algorithm with the given arguments.
It may also return a string indicating why the algorithm can’t be run;
this string may be used in the future to give helpful info to the user.</p></li>
<li><p>A backend may also define <code class="docutils literal notranslate"><span class="pre">should_run(name,</span> <span class="pre">args,</span> <span class="pre">kwargs)</span></code> that is similar
to <code class="docutils literal notranslate"><span class="pre">can_run</span></code>, but answers whether the backend <em>should</em> be run (converting
if necessary). Like <code class="docutils literal notranslate"><span class="pre">can_run</span></code>, it receives the original arguments so it
can decide whether it should be run by inspecting the arguments. <code class="docutils literal notranslate"><span class="pre">can_run</span></code>
runs before <code class="docutils literal notranslate"><span class="pre">should_run</span></code>, so <code class="docutils literal notranslate"><span class="pre">should_run</span></code> may assume <code class="docutils literal notranslate"><span class="pre">can_run</span></code> is True.
If not implemented by the backend, <code class="docutils literal notranslate"><span class="pre">can_run</span></code> and <code class="docutils literal notranslate"><span class="pre">should_run</span></code> are
assumed to always return True if the backend implements the algorithm.</p></li>
<li><p>A special <code class="docutils literal notranslate"><span class="pre">on_start_tests(items)</span></code> function may be defined by the backend.
It will be called with the list of NetworkX tests discovered. Each item
is a test object that can be marked as xfail if the backend does not support
the test using <code class="docutils literal notranslate"><span class="pre">item.add_marker(pytest.mark.xfail(reason=...))</span></code>.</p></li>
<li><p>A backend graph instance may have a <code class="docutils literal notranslate"><span class="pre">G.__networkx_cache__</span></code> dict to enable
caching, and care should be taken to clear the cache when appropriate.</p></li>
</ul>
</section>
</section>
</section>
<section id="decorator-dispatchable">
<h2>Decorator: _dispatchable<a class="headerlink" href="#decorator-dispatchable" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="networkx.utils.backends._dispatchable">
<span class="sig-prename descclassname"><span class="pre">&#64;</span></span><span class="sig-name descname"><span class="pre">_dispatchable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">graphs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'G'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_attrs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_attrs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preserve_edge_attrs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preserve_node_attrs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preserve_graph_attrs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preserve_all_attrs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mutates_input</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">returns_graph</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/networkx/utils/backends.html#_dispatchable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#networkx.utils.backends._dispatchable" title="Link to this definition">#</a></dt>
<dd><p>A decorator that makes certain input graph types dispatch to <code class="docutils literal notranslate"><span class="pre">func</span></code>’s
backend implementation.</p>
<p>Usage can be any of the following decorator forms:
- &#64;_dispatchable
- &#64;_dispatchable()
- &#64;_dispatchable(name=”override_name”)
- &#64;_dispatchable(graphs=”graph_var_name”)
- &#64;_dispatchable(edge_attrs=”weight”)
- &#64;_dispatchable(graphs={“G”: 0, “H”: 1}, edge_attrs={“weight”: “default”})
with 0 and 1 giving the position in the signature function for graph objects.
When edge_attrs is a dict, keys are keyword names and values are defaults.</p>
<p>The class attributes are used to allow backends to run networkx tests.
For example: <code class="xref py py-obj docutils literal notranslate"><span class="pre">PYTHONPATH=.</span> <span class="pre">pytest</span> <span class="pre">--backend</span> <span class="pre">graphblas</span> <span class="pre">--fallback-to-nx</span></code>
Future work: add configuration to control these.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>func</strong><span class="classifier">callable, optional</span></dt><dd><p>The function to be decorated. If <code class="docutils literal notranslate"><span class="pre">func</span></code> is not provided, returns a
partial object that can be used to decorate a function later. If <code class="docutils literal notranslate"><span class="pre">func</span></code>
is provided, returns a new callable object that dispatches to a backend
algorithm based on input graph types.</p>
</dd>
<dt><strong>name</strong><span class="classifier">str, optional</span></dt><dd><p>The name of the algorithm to use for dispatching. If not provided,
the name of <code class="docutils literal notranslate"><span class="pre">func</span></code> will be used. <code class="docutils literal notranslate"><span class="pre">name</span></code> is useful to avoid name
conflicts, as all dispatched algorithms live in a single namespace.
For example, <code class="docutils literal notranslate"><span class="pre">tournament.is_strongly_connected</span></code> had a name conflict
with the standard <code class="docutils literal notranslate"><span class="pre">nx.is_strongly_connected</span></code>, so we used
<code class="docutils literal notranslate"><span class="pre">&#64;_dispatchable(name=&quot;tournament_is_strongly_connected&quot;)</span></code>.</p>
</dd>
<dt><strong>graphs</strong><span class="classifier">str or dict or None, default “G”</span></dt><dd><p>If a string, the parameter name of the graph, which must be the first
argument of the wrapped function. If more than one graph is required
for the algorithm (or if the graph is not the first argument), provide
a dict of parameter name to argument position for each graph argument.
For example, <code class="docutils literal notranslate"><span class="pre">&#64;_dispatchable(graphs={&quot;G&quot;:</span> <span class="pre">0,</span> <span class="pre">&quot;auxiliary?&quot;:</span> <span class="pre">4})</span></code>
indicates the 0th parameter <code class="docutils literal notranslate"><span class="pre">G</span></code> of the function is a required graph,
and the 4th parameter <code class="docutils literal notranslate"><span class="pre">auxiliary</span></code> is an optional graph.
To indicate an argument is a list of graphs, do e.g. <code class="docutils literal notranslate"><span class="pre">&quot;[graphs]&quot;</span></code>.
Use <code class="docutils literal notranslate"><span class="pre">graphs=None</span></code> if <em>no</em> arguments are NetworkX graphs such as for
graph generators, readers, and conversion functions.</p>
</dd>
<dt><strong>edge_attrs</strong><span class="classifier">str or dict, optional</span></dt><dd><p><code class="docutils literal notranslate"><span class="pre">edge_attrs</span></code> holds information about edge attribute arguments
and default values for those edge attributes.
If a string, <code class="docutils literal notranslate"><span class="pre">edge_attrs</span></code> holds the function argument name that
indicates a single edge attribute to include in the converted graph.
The default value for this attribute is 1. To indicate that an argument
is a list of attributes (all with default value 1), use e.g. <code class="docutils literal notranslate"><span class="pre">&quot;[attrs]&quot;</span></code>.
If a dict, <code class="docutils literal notranslate"><span class="pre">edge_attrs</span></code> holds a dict keyed by argument names, with
values that are either the default value or, if a string, the argument
name that indicates the default value.</p>
</dd>
<dt><strong>node_attrs</strong><span class="classifier">str or dict, optional</span></dt><dd><p>Like <code class="docutils literal notranslate"><span class="pre">edge_attrs</span></code>, but for node attributes.</p>
</dd>
<dt><strong>preserve_edge_attrs</strong><span class="classifier">bool or str or dict, optional</span></dt><dd><p>For bool, whether to preserve all edge attributes.
For str, the parameter name that may indicate (with <code class="docutils literal notranslate"><span class="pre">True</span></code> or a
callable argument) whether all edge attributes should be preserved
when converting.
For dict of <code class="docutils literal notranslate"><span class="pre">{graph_name:</span> <span class="pre">{attr:</span> <span class="pre">default}}</span></code>, indicate pre-determined
edge attributes (and defaults) to preserve for input graphs.</p>
</dd>
<dt><strong>preserve_node_attrs</strong><span class="classifier">bool or str or dict, optional</span></dt><dd><p>Like <code class="docutils literal notranslate"><span class="pre">preserve_edge_attrs</span></code>, but for node attributes.</p>
</dd>
<dt><strong>preserve_graph_attrs</strong><span class="classifier">bool or set</span></dt><dd><p>For bool, whether to preserve all graph attributes.
For set, which input graph arguments to preserve graph attributes.</p>
</dd>
<dt><strong>preserve_all_attrs</strong><span class="classifier">bool</span></dt><dd><p>Whether to preserve all edge, node and graph attributes.
This overrides all the other preserve_*_attrs.</p>
</dd>
<dt><strong>mutates_input</strong><span class="classifier">bool or dict, default False</span></dt><dd><p>For bool, whether the functions mutates an input graph argument.
For dict of <code class="docutils literal notranslate"><span class="pre">{arg_name:</span> <span class="pre">arg_pos}</span></code>, arguments that indicates whether an
input graph will be mutated, and <code class="docutils literal notranslate"><span class="pre">arg_name</span></code> may begin with <code class="docutils literal notranslate"><span class="pre">&quot;not</span> <span class="pre">&quot;</span></code>
to negate the logic (for example, this is used by <code class="docutils literal notranslate"><span class="pre">copy=</span></code> arguments).
By default, dispatching doesn’t convert input graphs to a different
backend for functions that mutate input graphs.</p>
</dd>
<dt><strong>returns_graph</strong><span class="classifier">bool, default False</span></dt><dd><p>Whether the function can return or yield a graph object. By default,
dispatching doesn’t convert input graphs to a different backend for
functions that return graphs.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-networkx.utils.configs">
<span id="configs"></span><h2>Configs<a class="headerlink" href="#module-networkx.utils.configs" title="Link to this heading">#</a></h2>
<dl class="py attribute">
<dt class="sig sig-object py" id="networkx.utils.configs.config">
<span class="sig-name descname"><span class="pre">config</span></span><a class="headerlink" href="#networkx.utils.configs.config" title="Link to this definition">#</a></dt>
<dd><p>alias of NetworkXConfig(backend_priority=[], backends=Config(parallel=Config(), graphblas=Config(), cugraph=Config()), cache_converted_graphs=False)</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="networkx.utils.configs.NetworkXConfig">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NetworkXConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/networkx/utils/configs.html#NetworkXConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#networkx.utils.configs.NetworkXConfig" title="Link to this definition">#</a></dt>
<dd><p>Configuration for NetworkX that controls behaviors such as how to use backends.</p>
<p>Attribute and bracket notation are supported for getting and setting configurations:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">nx</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">backend_priority</span> <span class="o">==</span> <span class="n">nx</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;backend_priority&quot;</span><span class="p">]</span>
<span class="go">True</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>backend_priority</strong><span class="classifier">list of backend names</span></dt><dd><p>Enable automatic conversion of graphs to backend graphs for algorithms
implemented by the backend. Priority is given to backends listed earlier.
Default is empty list.</p>
</dd>
<dt><strong>backends</strong><span class="classifier">Config mapping of backend names to backend Config</span></dt><dd><p>The keys of the Config mapping are names of all installed NetworkX backends,
and the values are their configurations as Config mappings.</p>
</dd>
<dt><strong>cache_converted_graphs</strong><span class="classifier">bool</span></dt><dd><p>If True, then save converted graphs to the cache of the input graph. Graph
conversion may occur when automatically using a backend from <code class="xref py py-obj docutils literal notranslate"><span class="pre">backend_priority</span></code>
or when using the <code class="xref py py-obj docutils literal notranslate"><span class="pre">backend=</span></code> keyword argument to a function call. Caching can
improve performance by avoiding repeated conversions, but it uses more memory.
Care should be taken to not manually mutate a graph that has cached graphs; for
example, <code class="docutils literal notranslate"><span class="pre">G[u][v][k]</span> <span class="pre">=</span> <span class="pre">val</span></code> changes the graph, but does not clear the cache.
Using methods such as <code class="docutils literal notranslate"><span class="pre">G.add_edge(u,</span> <span class="pre">v,</span> <span class="pre">weight=val)</span></code> will clear the cache to
keep it consistent. <code class="docutils literal notranslate"><span class="pre">G.__networkx_cache__.clear()</span></code> manually clears the cache.
Default is False.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Environment variables may be used to control some default configurations:</p>
<ul class="simple">
<li><p>NETWORKX_BACKEND_PRIORITY: set <code class="xref py py-obj docutils literal notranslate"><span class="pre">backend_priority</span></code> from comma-separated names.</p></li>
<li><p>NETWORKX_CACHE_CONVERTED_GRAPHS: set <code class="xref py py-obj docutils literal notranslate"><span class="pre">cache_converted_graphs</span></code> to True if nonempty.</p></li>
</ul>
<p>This is a global configuration. Use with caution when using from multiple threads.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="networkx.utils.configs.Config">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/networkx/utils/configs.html#Config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#networkx.utils.configs.Config" title="Link to this definition">#</a></dt>
<dd><p>The base class for NetworkX configuration.</p>
<p>There are two ways to use this to create configurations. The first is to
simply pass the initial configuration as keyword arguments to <code class="docutils literal notranslate"><span class="pre">Config</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span> <span class="o">=</span> <span class="n">Config</span><span class="p">(</span><span class="n">eggs</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">spam</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span>
<span class="go">Config(eggs=1, spam=5)</span>
</pre></div>
</div>
<p>The second–and preferred–way is to subclass <code class="docutils literal notranslate"><span class="pre">Config</span></code> with docs and annotations.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">MyConfig</span><span class="p">(</span><span class="n">Config</span><span class="p">):</span>
<span class="gp">... </span><span class="w">    </span><span class="sd">&#39;&#39;&#39;Breakfast!&#39;&#39;&#39;</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="n">eggs</span><span class="p">:</span> <span class="nb">int</span>
<span class="gp">... </span>    <span class="n">spam</span><span class="p">:</span> <span class="nb">int</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">_check_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">and</span> <span class="n">value</span> <span class="o">&gt;=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span> <span class="o">=</span> <span class="n">MyConfig</span><span class="p">(</span><span class="n">eggs</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">spam</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<p>Once defined, config items may be modified, but can’t be added or deleted by default.
<code class="docutils literal notranslate"><span class="pre">Config</span></code> is a <code class="docutils literal notranslate"><span class="pre">Mapping</span></code>, and can get and set configs via attributes or brackets:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span><span class="o">.</span><span class="n">eggs</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span><span class="o">.</span><span class="n">eggs</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span><span class="p">[</span><span class="s2">&quot;spam&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">42</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span><span class="p">[</span><span class="s2">&quot;spam&quot;</span><span class="p">]</span>
<span class="go">42</span>
</pre></div>
</div>
<p>Subclasses may also define <code class="docutils literal notranslate"><span class="pre">_check_config</span></code> (as done in the example above)
to ensure the value being assigned is valid:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cfg</span><span class="o">.</span><span class="n">spam</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="w">    </span><span class="o">...</span>
<span class="gr">AssertionError</span>
</pre></div>
</div>
<p>If a more flexible configuration object is needed that allows adding and deleting
configurations, then pass <code class="docutils literal notranslate"><span class="pre">strict=False</span></code> when defining the subclass:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">FlexibleConfig</span><span class="p">(</span><span class="n">Config</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">default_greeting</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Hello&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flexcfg</span> <span class="o">=</span> <span class="n">FlexibleConfig</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flexcfg</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Mr. Anderson&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flexcfg</span>
<span class="go">FlexibleConfig(default_greeting=&#39;Hello&#39;, name=&#39;Mr. Anderson&#39;)</span>
</pre></div>
</div>
</dd></dl>

</section>
</section>


                </article>
              
              
              
              
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-networkx.utils.backends">Backends</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-a-custom-backend">Creating a Custom backend</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#testing-the-custom-backend">Testing the Custom backend</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#testing-environment-setup">Testing Environment Setup</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#running-tests">Running Tests</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#notes">Notes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#decorator-dispatchable">Decorator: _dispatchable</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#networkx.utils.backends._dispatchable"><code class="docutils literal notranslate"><span class="pre">_dispatchable()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-networkx.utils.configs">Configs</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#networkx.utils.configs.config"><code class="docutils literal notranslate"><span class="pre">config</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#networkx.utils.configs.NetworkXConfig"><code class="docutils literal notranslate"><span class="pre">NetworkXConfig</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#networkx.utils.configs.Config"><code class="docutils literal notranslate"><span class="pre">Config</span></code></a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2004-2024, NetworkX Developers.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.2.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>